---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "parallels-desktop_deploy Resource - terraform-provider-parallels-desktop"
subcategory: ""
description: |-
  Parallels Virtual Machine Deployment Resource
---

# parallels-desktop_deploy (Resource)

Parallels Virtual Machine Deployment Resource

## Example Usage

```terraform
resource "parallels-desktop_deploy" "example" {

  # This will contain the configuration for the Parallels Desktop API
  api_config {
    port   = "8080"
    prefix = "/api"
    # This will set the log level for the API
    log_level = "info"
    # This will enable logging for the API
    enable_logging = true
    # This will set the mode for the API, you can use either api or orchestrator. by default it will be api
    mode = "api"
    # you can force any version of the devops api, if you leave it empty it will use the latest version
    # but it will not automatically update to the latest version, that would need a manual step
    devops_version = "latest"
    # This will set the password for the default root user
    root_password = "VerySecretPassword"
    # This will enable the api to use the hmac secret for the authentication
    hmac_secret = "VerySecretLongStringForHMAC"
    # This will enable the api to use the rsa key for encryption of the database file
    # we strongly advise you to use this feature for security reasons
    encryption_rsa_key = "base64 encoded rsa key"
    # This will enable the api to use the tls certificate
    enable_tls = true
    # This will enable the tls port
    tls_port = "8443"
    # This will enable the tls certificate
    tls_certificate = "base64 encoded tls cert"
    # This will enable the tls private key
    tls_private_key = "base64 encoded tls key"
    # This will enable the catalog caching, this will cache the catalog in the host
    disable_catalog_caching = false
    # This will enable the orchestrator resources, this will enable the host to use the orchestrator
    use_orchestrator_resources = false
    # This will enable the port forwarding reverse proxy in the host, you will need to set the
    # port_forwarding block to configure the ports in the deploy or any other provider
    enable_port_forwarding = false
    # This will allow more fine tune of the api configuration, you can pass any compatible environment
    # variable 
    environment_variables = {
      "key" = "value"
    }
  }

  # This will contain the configuration for the port forwarding reverse proxy
  # in this case we are opening a port to any part in the host, it will not be linked to any
  # specific vm or container. by default it will listen on 0.0.0.0 (all interfaces)
  # and the target host will also be 0.0.0.0 (all interfaces) so it will be open to the world
  # use 
  reverse_proxy_host {
    port = "2022"

    tcp_route {
      target_port = "22"
    }
  }

  # This will contain the configuration for the Parallels Desktop Orchestrator
  # and how to register this instance with it
  orchestrator_registration {
    tags = [
      "any identifying tags for this instance"
    ]
    description = "some description for this instance"

    # this block will contain the configuration for the orchestrator
    orchestrator {
      schema = "http"
      host   = "example.com"
      port   = "80"
      authentication {
        username = "user@example.com"
        password = "VerySecretPassword"
      }
    }
  }

  # This will contain the ssg configuration required to deploy Parallels Desktop to the remote
  # machine, if you are deploying this locally then you can omit this block and use the flag instead
  # but we will not be able to install all required dependencies so we still advise you to use this
  # and set a ssh server up on the local machine
  ssh_connection {
    type        = "ssh"
    user        = "ec2-user"
    private_key = "the private ssh key"
    host        = "example.com"
    host_port   = "22"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_config` (Block, Optional) Parallels Desktop DevOps configuration (see [below for nested schema](#nestedblock--api_config))
- `install_local` (Boolean) Deploy Parallels Desktop in the local machine, this will ignore the need to connect to a remote machine
- `orchestrator_registration` (Block, Optional) Orchestrator connection details (see [below for nested schema](#nestedblock--orchestrator_registration))
- `reverse_proxy_host` (Block List) Parallels Desktop DevOps Reverse Proxy configuration (see [below for nested schema](#nestedblock--reverse_proxy_host))
- `ssh_connection` (Block, Optional) Host connection details (see [below for nested schema](#nestedblock--ssh_connection))

### Read-Only

- `api` (Object) Parallels Desktop DevOps Service (see [below for nested schema](#nestedatt--api))
- `current_git_version` (String) Current version of Git
- `current_packer_version` (String) Current version of Hashicorp Packer
- `current_vagrant_version` (String) Current version of Hashicorp Vagrant
- `current_version` (String) Current version of Parallels Desktop
- `external_ip` (String) External IP address
- `installed_dependencies` (List of String) List of installed dependencies
- `is_registered_in_orchestrator` (Boolean) Is this host registered in the orchestrator
- `license` (Object) Parallels Desktop license (see [below for nested schema](#nestedatt--license))
- `orchestrator_host` (String) Orchestrator host ID
- `orchestrator_host_id` (String) Orchestrator host ID

<a id="nestedblock--api_config"></a>
### Nested Schema for `api_config`

Optional:

- `devops_version` (String) Parallels Desktop DevOps version to install, if empty the latest will be installed
- `disable_catalog_caching` (Boolean) Disable catalog caching, this will disable the ability to cache catalog items that are pulled from a remote catalog
- `enable_logging` (Boolean) Enable logging
- `enable_port_forwarding` (Boolean) Enable inbuilt reverse proxy for port forwarding
- `enable_tls` (Boolean) Parallels Desktop DevOps enable TLS
- `encryption_rsa_key` (String, Sensitive) Parallels Desktop DevOps RSA key, this is used to encrypt database file on rest
- `environment_variables` (Map of String) Environment variables that can be used in the DevOps service, please see documentation to see which variables are available
- `hmac_secret` (String, Sensitive) Parallels Desktop DevOps HMAC secret, this is used to sign the JWT tokens
- `log_level` (String) Parallels Desktop DevOps log level, you can choose between debug, info, warn, error
- `mode` (String, Sensitive) API Operation mode, either orchestrator or catalog
- `port` (String) Parallels Desktop DevOps port
- `prefix` (String) Parallels Desktop DevOps port
- `root_password` (String, Sensitive) Parallels Desktop DevOps root password
- `system_reserved_cpu` (String) System reserved CPU in %
- `system_reserved_disk` (String) System reserved disk in MB
- `system_reserved_memory` (String) System reserved memory in MB
- `tls_certificate` (String, Sensitive) Parallels Desktop DevOps TLS certificate, this should be a PEM base64 encoded certificate string
- `tls_port` (String) Parallels Desktop DevOps TLS port
- `tls_private_key` (String, Sensitive) Parallels Desktop DevOps TLS private key, this should be a PEM base64 encoded private key string
- `token_duration_minutes` (String) JWT Token duration in minutes
- `use_latest_beta` (Boolean) Enables the use of the latest beta
- `use_orchestrator_resources` (Boolean) Use orchestrator resources


<a id="nestedblock--orchestrator_registration"></a>
### Nested Schema for `orchestrator_registration`

Optional:

- `description` (String) Host description
- `host` (String) Host address
- `host_credentials` (Block, Optional) Authenticator block, this is used to authenticate with the Parallels Desktop API, if empty it will try to use the root password (see [below for nested schema](#nestedblock--orchestrator_registration--host_credentials))
- `orchestrator` (Block, Optional) Orchestrator connection details (see [below for nested schema](#nestedblock--orchestrator_registration--orchestrator))
- `port` (String) Host port
- `schema` (String) Host Schema
- `tags` (List of String) Host tags

Read-Only:

- `host_id` (String) Host Orchestrator ID

<a id="nestedblock--orchestrator_registration--host_credentials"></a>
### Nested Schema for `orchestrator_registration.host_credentials`

Optional:

- `api_key` (String, Sensitive) Parallels desktop API API Key
- `password` (String, Sensitive) Parallels desktop API Password
- `username` (String) Parallels desktop API Username


<a id="nestedblock--orchestrator_registration--orchestrator"></a>
### Nested Schema for `orchestrator_registration.orchestrator`

Optional:

- `authentication` (Block, Optional) Authenticator block, this is used to authenticate with the Parallels Desktop API, if empty it will try to use the root password (see [below for nested schema](#nestedblock--orchestrator_registration--orchestrator--authentication))
- `host` (String) Host address
- `port` (String) Host port
- `schema` (String) Host Schema

<a id="nestedblock--orchestrator_registration--orchestrator--authentication"></a>
### Nested Schema for `orchestrator_registration.orchestrator.authentication`

Optional:

- `api_key` (String, Sensitive) Parallels desktop API API Key
- `password` (String, Sensitive) Parallels desktop API Password
- `username` (String) Parallels desktop API Username




<a id="nestedblock--reverse_proxy_host"></a>
### Nested Schema for `reverse_proxy_host`

Required:

- `port` (String) Reverse proxy port

Optional:

- `cors` (Block, Optional) Parallels Desktop DevOps Reverse Proxy Http Route CORS configuration (see [below for nested schema](#nestedblock--reverse_proxy_host--cors))
- `host` (String) Reverse proxy host
- `http_routes` (Block List) Parallels Desktop DevOps Reverse Proxy Http Route CORS configuration (see [below for nested schema](#nestedblock--reverse_proxy_host--http_routes))
- `tcp_route` (Block, Optional) Parallels Desktop DevOps Reverse Proxy TCP Route configuration (see [below for nested schema](#nestedblock--reverse_proxy_host--tcp_route))
- `tls` (Block, Optional) Parallels Desktop DevOps Reverse Proxy Http Route TLS configuration (see [below for nested schema](#nestedblock--reverse_proxy_host--tls))

Read-Only:

- `id` (String) Reverse proxy Host id

<a id="nestedblock--reverse_proxy_host--cors"></a>
### Nested Schema for `reverse_proxy_host.cors`

Optional:

- `allowed_headers` (List of String) Allowed headers
- `allowed_methods` (List of String) Allowed methods
- `allowed_origins` (List of String) Allowed origins
- `enabled` (Boolean) Enable CORS


<a id="nestedblock--reverse_proxy_host--http_routes"></a>
### Nested Schema for `reverse_proxy_host.http_routes`

Optional:

- `path` (String) Reverse proxy HTTP Route path
- `pattern` (String) Reverse proxy HTTP Route pattern
- `request_headers` (Map of String) Reverse proxy HTTP Route request headers
- `response_headers` (Map of String) Reverse proxy HTTP Route response headers
- `schema` (String) Reverse proxy HTTP Route schema
- `target_host` (String) Reverse proxy HTTP Route target host
- `target_port` (String) Reverse proxy HTTP Route target port
- `target_vm_id` (String) Reverse proxy HTTP Route target VM id


<a id="nestedblock--reverse_proxy_host--tcp_route"></a>
### Nested Schema for `reverse_proxy_host.tcp_route`

Optional:

- `target_host` (String) Reverse proxy host
- `target_port` (String) Reverse proxy port
- `target_vm_id` (String) Reverse proxy target VM ID


<a id="nestedblock--reverse_proxy_host--tls"></a>
### Nested Schema for `reverse_proxy_host.tls`

Optional:

- `certificate` (String) TLS Certificate
- `enabled` (Boolean) Enable TLS
- `private_key` (String) TLS Private Key



<a id="nestedblock--ssh_connection"></a>
### Nested Schema for `ssh_connection`

Optional:

- `host` (String) Host Machine address
- `host_port` (String) Host Machine port
- `password` (String, Sensitive) Host Machine password
- `private_key` (String, Sensitive) Host Machine RSA private key
- `user` (String) Host Machine user


<a id="nestedatt--api"></a>
### Nested Schema for `api`

Read-Only:

- `host` (String)
- `password` (String)
- `port` (String)
- `protocol` (String)
- `user` (String)
- `version` (String)


<a id="nestedatt--license"></a>
### Nested Schema for `license`

Read-Only:

- `key` (String)
- `restricted` (Boolean)
- `state` (String)
